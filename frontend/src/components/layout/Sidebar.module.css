:local(:root) {
  --sidebar-width: 260px;
  --sidebar-collapsed: 72px;
}

/* main container */
.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: var(--sidebar-width);
  background: white;
  border-right: 1px solid var(--gray-100);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: var(--spacing-md);
  gap: var(--spacing-md);
  transition: width 240ms cubic-bezier(.2,.9,.2,1), transform 200ms ease, box-shadow 200ms;
  z-index: 50;
  box-shadow: var(--shadow-sm);
}

.collapsed {
  width: var(--sidebar-collapsed);
}

/* mobile open state */
.mobileOpen {
  transform: translateX(0);
}

/* top section */
.top {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.brand {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}
.logoMark {
  width:40px;height:40px;border-radius:10px;background:var(--primary-600);color:white;display:inline-flex;align-items:center;justify-content:center;font-weight:700;
}
.brandText { font-weight:700; color:var(--gray-900); }

/* workspace selector wrapper */
.workspaceWrap { margin-top: 6px; }

/* nav */
.nav { display:flex; flex-direction:column; gap:6px; margin-top: 6px; }

.item {
  display:flex;
  align-items:center;
  gap:12px;
  padding: 8px;
  border-radius: 8px;
  color: var(--gray-700);
  text-decoration: none;
  position: relative;
  transition: background-color 120ms, color 120ms;
}
.item:hover { background: var(--gray-50); color: var(--gray-900); }

.iconWrap {
  position: relative;
  width: 36px;
  height: 36px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.icon { color: var(--gray-600); }
.activeBar {
  position:absolute;
  left: -10px;
  top: 8px;
  bottom: 8px;
  width: 4px;
  border-radius: 4px;
  background: transparent;
  transition: background-color 160ms;
}

/* active state */
.active {
  background: linear-gradient(90deg, rgba(59,130,246,0.06), rgba(59,130,246,0.02));
  color: var(--primary-700);
}
.active .icon { color: var(--primary-600); }
.active .activeBar { background: var(--primary-600); }

/* labels */
.label { font-size: 0.95rem; white-space:nowrap; }

/* bottom */
.bottom {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:var(--spacing-sm);
  margin-top:auto;
}
.userRow { display:flex; gap:var(--spacing-sm); align-items:center; }
.avatar { width:36px; height:36px; border-radius:8px; object-fit:cover; }
.userName { font-weight:600; color:var(--gray-800); }

/* collapse button (visual only) */
.collapseBtn {
  background:transparent;
  border:none;
  cursor:pointer;
  padding:6px;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* mobile overlay close area (for built-in closing) */
.mobileClose {
  position: fixed;
  left: calc(var(--sidebar-width));
  top: 0;
  bottom: 0;
  right: 0;
  background: rgba(0,0,0,0.35);
  z-index: 40;
}

/* when collapsed, hide labels and slightly reduce padding */
.collapsed .label { display: none; }
.collapsed .brandText { display: none; }
.collapsed .userName { display: none; }

/* responsive: mobile behavior */
@media (max-width: 768px) {
  .sidebar {
    transform: translateX(-110%);
    width: var(--sidebar-width);
  }
  .mobileOpen {
    transform: translateX(0);
  }
  .mobileClose { display:block; }
}
